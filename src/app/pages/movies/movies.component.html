<h4>All Movies {{ moviesSignal().length }}</h4>

<app-search> </app-search>
<app-dropdown></app-dropdown>

<div>
  @if (!isLoadingSignal()) {
    <div
      class="grid gap-3"
      [class.grid-cols-1]="!moviesSignal().length"
      [class.grid-cols-[repeat(auto-fill,_minmax(10em,_1fr))]]="
        moviesSignal().length
      "
      [class.md:grid-cols-[repeat(auto-fill,_minmax(15em,_1fr))]]="
        moviesSignal().length
      "
    >
      @for (movie of moviesSignal(); track movie.id) {
        <!-- <p>{{ movie.title }} - {{ movie.popularity }} - {{ movie.genres }}</p> -->
        <app-movie [movie]="movie"></app-movie>
      } @empty {
        <app-alert></app-alert>
      }
    </div>
  } @else {
    <app-loading
      class="opacity-100 transition-opacity duration-500"
      [class.opacity-0]="moviesSignal().length"
    ></app-loading>
  }

  <button
    [disabled]="isLoadMoreDisabled()"
    type="button"
    matButton="filled"
    (click)="onLoadMoreClick()"
  >
    Load More
  </button>
</div>
